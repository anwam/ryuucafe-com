---
import { Picture } from "astro:assets";
import type { Product } from "../types";

type Props = {
  product: Product;
  isTopSeller?: boolean;
};
const { product, isTopSeller } = Astro.props;
---

<div class="relative flex flex-col bg-neutral-50 shadow">
  <Picture
    src={product.coverImage.responsiveImage.src}
    sizes={product.coverImage.responsiveImage.sizes}
    srcset={product.coverImage.responsiveImage.srcSet}
    width={product.coverImage.responsiveImage.width}
    height={product.coverImage.responsiveImage.height}
    alt={product.name}
    decoding={"async"}
    densities={[1.5, 2]}
    loading="lazy"
  />
  {
    isTopSeller && (
      <div class="badge badge-warning absolute top-2 right-2 shadow text-xs font-bold px-2 py-1 rounded-full z-50">
        Best Seller
      </div>
    )
  }
  <div class="flex flex-col gap-y-2 p-2">
    <h2 class="text-lg font-bold">{product.name}</h2>
    {
      product.description && (
        <p class="text-sm text-neutral-600">{product.description}</p>
      )
    }
  </div>
</div>
