---
import { Picture } from "astro:assets";
import type { Product } from "../types";

type Props = {
  product: Product;
};
const { product } = Astro.props;
---

<div
  class="relative flex flex-col bg-base-100 rounded-xl overflow-hidden shadow"
>
  <Picture
    src={product.coverImage.responsiveImage.src}
    sizes={product.coverImage.responsiveImage.sizes}
    srcset={product.coverImage.responsiveImage.srcSet}
    width={product.coverImage.responsiveImage.width}
    height={product.coverImage.responsiveImage.height}
    alt={product.name}
    decoding={"async"}
    densities={[1.5, 2]}
    loading="lazy"
  />
  {
    product.bestSeller && (
      <div class="badge badge-warning absolute top-2 right-2 shadow text-xs font-bold px-2 py-1 rounded-full z-badge">
        Best Seller
      </div>
    )
  }
  <div class="flex flex-col gap-y-2 p-3">
    <h3 class="text-lg font-bold">{product.name}</h3>
    {
      product.description && (
        <p class="text-sm text-neutral-600">{product.description}</p>
      )
    }
  </div>
</div>
